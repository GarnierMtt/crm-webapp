{% extends 'api/api_base.html.twig' %}

{% block title %} - Index {{ class }}{% endblock %}


{% block path %}
    <a href="{{ path('api_' ~ class ~ '_index') }}">{{ class|capitalize }}s</a>
{% endblock %}

{% block doc %}
    <p>{{ class|capitalize }} scheama :</p>

    <ul>
        {% for atribute in atributes %}
            <li><span>{{ atribute[0] }} > type : {{ atribute[1] }}</span></li>
        {% endfor %}
    </ul>


    <p>Liste des endpoints pour la ressource {{ class|capitalize }} :</p>

    <table class="endpoints">
        <tr>
            <td>GET</td>
            <td>/{{ class }}_api : Récupère la liste des {{ class }}s</td>
        </tr>
        <tr>
            <td>GET</td>
            <td>/{{ class }}_api/{id} : Récupère un élément {{ class }} par son id</td>
        </tr>
        <tr>
            <td>POST</td>
            <td>/{{ class }}_api : Crée un nouvel élément {{ class }}</td>
        </tr>
        <tr>
            <td>POST</td>
            <td>/{{ class }}_api/{id} : Met à jour un élément {{ class }} existante</td>
        </tr>
        <tr>
            <td>DELETE</td>
            <td>/{{ class }}_api/{id} : Supprime un élément {{ class }} par son id</td>
        </tr>
    </table>
{% endblock %}

{% block content %}
    <p> Données retournées pour <span style="font-weight:bold">/{{ class }}_api</span> :</p>
    <div class="jsonDisplay">
        {% if data %}
            <ul>
                <li>{{ data }}</li>
            </ul>
        {% else %}
            <ul>
                <li>aucune entrée</li>
            </ul>
        {% endif %}
    </div>
{% endblock %}
